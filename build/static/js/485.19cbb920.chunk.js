(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[485],{40939:function(e,n,t){"use strict";var i=t(13967),a=t(64554),r=t(80184);n.Z=function(e){var n,t=e.color,s=e.size,l=(0,i.Z)();switch(t){case"secondary":n=l.palette.secondary.main;break;case"error":n=l.palette.error.main;break;case"warning":n=l.palette.warning.main;break;case"info":n=l.palette.info.main;break;case"success":n=l.palette.success.main;break;default:n=l.palette.primary.main}return(0,r.jsx)(a.Z,{sx:{width:s||8,height:s||8,borderRadius:"50%",bgcolor:n}})}},68922:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ae}});var i,a,r,s=t(70885),l=t(72791),d=t(16030),o=t(61889),c=t(36151),u=t(20890),h=t(4623),x=t(30168),p=t(43504),f=t(17939),g=t(56890),j=t(35855),Z=t(53994),b=t(53767),m=t(50533),v=t(64554),w=t(39281),P=t(79836),S=t(53382),k=t(13400),y=t(80911),C=t(23786),_=t(57064),T=t(27247),E=t(41286),N=t(52898),A=t(30948),D=t(40939),I=t(80184);var O=function(e){var n=[];return e.map((function(e){return n.push(function(e,n,t,i,a,r,s){return{title:e,author:n,date_created:t,published:i,tags:a,views:r,actions:s}}(e.title,e.author,e.date_created,e.published,e.tags,e.views,e.id))})),n};function U(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function z(e,n){return"desc"===e?function(e,t){return U(e,t,n)}:function(e,t){return-U(e,t,n)}}function B(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t.map((function(e){return e[0]}))}var F=[{id:"title",align:"left",disablePadding:!1,label:"Title."},{id:"author",align:"left",disablePadding:!1,label:"Author"},{id:"date_created",align:"left",disablePadding:!1,label:"Date created"},{id:"published",align:"left",disablePadding:!1,label:"Published"},{id:"tags",align:"left",disablePadding:!1,label:"Tags"},{id:"views",align:"left",disablePadding:!1,label:"Views"},{id:"actions",align:"left",disablePadding:!1,label:"Actions"}],M=f.ZP.div(i||(i=(0,x.Z)(["\n    display: flex;\n    flex-flow: row wrap;\n    width: 250px;\n"]))),R=f.ZP.p(a||(a=(0,x.Z)(["\n    padding: 3px 10px;\n    font-size: 8px;\n    border-radius: 10px;\n    background-color: #0a913dcc;\n    color: #fff;\n    margin: 0px 5px 3px 0px;\n    /* font-weight: 500; */\n"]))),W=f.ZP.div(r||(r=(0,x.Z)(["\n    width: 200px;\n    white-space: break-spaces;\n    text-transform: lowercase;\n    /* font-weight: 500; */\n"])));function H(e){var n=e.order,t=e.orderBy;return(0,I.jsx)(g.Z,{children:(0,I.jsx)(j.Z,{children:F.map((function(e){return(0,I.jsx)(Z.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:t===e.id&&n,children:e.label},e.id)}))})})}var V=function(e){var n,t,i=e.status;switch(Number(i)){case 0:n="warning",t="Not Published";break;case 1:n="success",t="Published";break;default:n="primary",t="None"}return(0,I.jsxs)(b.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,I.jsx)(D.Z,{color:n}),(0,I.jsx)(u.Z,{children:t})]})},L=function(e){var n=e.tags,t=null===n||void 0===n?void 0:n.split(",");return(0,I.jsx)(M,{children:null===t||void 0===t?void 0:t.map((function(e,n){return""!==e&&(0,I.jsx)(R,{children:e},n)}))})},X=function(e){var n=e.text,t=e.id;return(0,I.jsx)(W,{children:(0,I.jsx)(m.Z,{color:"primary",variant:"body2",component:p.rU,to:"/dashboard/blog/".concat(t),children:n})})};T.Z,E.Z;function q(){var e=(0,l.useState)("asc"),n=(0,s.Z)(e,1)[0],t=(0,l.useState)("trackingNo"),i=(0,s.Z)(t,1)[0],a=(0,l.useState)([]),r=(0,s.Z)(a,1)[0],o=(0,l.useState)(!1),c=(0,s.Z)(o,2),h=(c[0],c[1],(0,d.v9)((function(e){return e.blogSlice}))),x=h.posts,p=(h.singlePost,h.addStatus,(0,l.useState)(null)),f=(0,s.Z)(p,2),g=f[0],D=f[1],U=Boolean(g),F=function(e){D(e.currentTarget)},M=function(){D(null)};return(0,I.jsx)(v.Z,{children:(0,I.jsx)(w.Z,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,I.jsxs)(P.Z,{"aria-labelledby":"tableTitle",sx:{"& .MuiTableCell-root:first-child":{pl:2},"& .MuiTableCell-root:last-child":{pr:3}},children:[(0,I.jsx)(H,{order:n,orderBy:i}),(0,I.jsx)(S.Z,{children:B(O(x),z(n,i)).map((function(e,n){var t,i=(t=e.title,-1!==r.indexOf(t)),a="enhanced-table-checkbox-".concat(n);return(0,I.jsxs)(j.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},"aria-checked":i,tabIndex:-1,selected:i,children:[(0,I.jsx)(Z.Z,{component:"th",id:a,scope:"row",align:"left",children:(0,I.jsx)(X,{text:e.title,id:e.actions})}),(0,I.jsx)(Z.Z,{align:"left",children:e.author}),(0,I.jsx)(Z.Z,{align:"left",children:null===e||void 0===e?void 0:e.date_created}),(0,I.jsx)(Z.Z,{align:"left",children:(0,I.jsx)(V,{status:e.published})}),(0,I.jsx)(Z.Z,{align:"right",children:(0,I.jsx)(L,{tags:e.tags})}),(0,I.jsx)(Z.Z,{align:"left",children:(0,I.jsx)(A.Z,{value:e.views,displayType:"text",thousandSeparator:!0})}),(0,I.jsx)(Z.Z,{align:"left",children:(0,I.jsxs)(b.Z,{direction:"row",spacing:1,children:[(0,I.jsx)(k.Z,{onClick:F,"aria-controls":U?"amenu":void 0,"aria-haspopup":"true","aria-expanded":U?"true":void 0,children:(0,I.jsx)(N.Z,{})}),(0,I.jsxs)(y.Z,{anchorEl:g,id:"amenu",open:U,onClose:M,onClick:M,children:[(0,I.jsxs)(C.Z,{divider:!0,sx:{color:"red"},children:[" ",(0,I.jsx)(_.Z,{children:(0,I.jsx)(T.Z,{sx:{color:"red"}})}),(0,I.jsx)(u.Z,{color:"danger",children:"Delete"})]}),(0,I.jsxs)(C.Z,{children:[" ",(0,I.jsx)(_.Z,{children:(0,I.jsx)(E.Z,{sx:{color:"blue"}})}),(0,I.jsx)(u.Z,{component:m.Z,to:"/dashboard/blog/edit/".concat(e.actions),color:"blue",children:"Edit"})]})]})]})})]},e.title+"_"+n)}))})]})})})}function G(e){var n=e.id,t=(0,d.v9)((function(e){return e.blogSlice})),i=t.singlePost;t.addStatus;return(0,I.jsxs)(v.Z,{sx:{padding:3,minHeight:"70vh"},children:[(0,I.jsxs)(o.ZP,{container:!0,md:12,spacing:2,children:[(0,I.jsx)(o.ZP,{item:!0,xs:12,md:4,lg:4,children:(0,I.jsx)(v.Z,{sx:{width:"100%",height:8},children:(0,I.jsx)("img",{src:"https://placehold.co/600x400",style:{width:"100%"},alt:""})})}),(0,I.jsxs)(o.ZP,{item:!0,xs:12,md:8,lg:8,children:[(0,I.jsx)(u.Z,{variant:"h3",children:null===i||void 0===i?void 0:i.title}),(0,I.jsx)(u.Z,{variant:"subtitle1",children:null===i||void 0===i?void 0:i.subtitle}),(0,I.jsx)(u.Z,{variantMapping:"p",children:null===i||void 0===i?void 0:i.body})]})]}),(0,I.jsx)(o.ZP,{container:!0,md:12,lg:12,spacing:2}),(0,I.jsx)(o.ZP,{container:!0,md:12,lg:12,spacing:2,children:(0,I.jsx)(o.ZP,{md:4,lg:4,children:(0,I.jsx)(c.Z,{component:p.rU,to:"/dashboard/blog/edit/".concat(n),variant:"contained",size:"medium",children:"Edit"})})})]})}var J=t(74165),K=t(15861),Q=t(56689),Y=t(16871),$=t(31946),ee=t(71993),ne=t(28187),te=t.n(ne),ie=function(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],i=(n[1],(0,l.useState)("")),a=(0,s.Z)(i,2),r=(a[0],a[1],(0,l.useState)("")),u=(0,s.Z)(r,2),h=(u[0],u[1],(0,l.useState)("")),x=(0,s.Z)(h,2),p=(x[0],x[1]),f=(0,l.useState)(""),g=(0,s.Z)(f,2),j=g[0],Z=g[1],b=(0,l.useState)(!1),m=(0,s.Z)(b,2),w=(m[0],m[1]),P=(0,l.useState)(!1),S=(0,s.Z)(P,2),k=(S[0],S[1]),y=(0,l.useState)(""),C=(0,s.Z)(y,2),_=C[0],T=C[1],E=(0,l.useState)(""),N=(0,s.Z)(E,2),A=N[0],D=N[1],O=(0,l.useState)(""),U=(0,s.Z)(O,2),z=U[0],B=U[1],F=(0,l.useState)(""),M=(0,s.Z)(F,2),R=M[0],W=M[1],H=(0,l.useState)(""),V=(0,s.Z)(H,2),L=(V[0],V[1],(0,l.useRef)(null),(0,d.I0)()),X=(0,Y.s0)(),q=((0,d.v9)((function(e){return e.blogSlice})).addStatus,function(){var e=(0,K.Z)((0,J.Z)().mark((function e(){var n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==_||""!==A||""!==t){e.next=6;break}p("Please fill all the fields"),ee.Am.warn("Please fill all the fields"),console.log("Please fill all the fields"),e.next=25;break;case 6:return w(!0),(n=new FormData).append("title",_),n.append("subtitle",A),n.append("body",z),n.append("image",R),n.append("author","admin"),n.append("body",0),n.append("dislikes",0),n.append("fav",0),n.append("hidden",0),n.append("likes",0),n.append("new",0),n.append("published",0),n.append("views",0),e.next=23,L((0,$.w0)(n));case 23:200===e.sent.status?(w(!1),k(!0),Z("Blog post added successfully"),ee.Am.success(j),setTimeout((function(){X("/dashboard/blog")}),1e3)):(w(!1),p("Something went wrong"),ee.Am.warn("Something went wrong"),setTimeout((function(){p("")}),3e3));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),G=(0,l.useRef)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(v.Z,{sx:{p:2,display:"flex",justifyContent:"center"},children:(0,I.jsxs)(o.ZP,{container:!0,item:!0,spacing:3,sx:{width:"70%",paddingTop:5},children:[(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(Q.Z,{fullWidth:!0,label:"Title",variant:"outlined",name:"",value:_,onChange:function(e){return T(e.target.value)}})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(Q.Z,{fullWidth:!0,label:"Subtitle",name:"",variant:"outlined",value:A,onChange:function(e){return D(e.target.value)}})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(Q.Z,{fullWidth:!0,type:"file",id:"formFile",name:"image",onChange:function(e){return n=e.target.files[0],W(n),void console.log("image: ",R);var n}})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(te(),{getSunEditorInstance:function(e){G.current=e},height:"40vh",placeholder:"Please type here...",defaultValue:"<p>The editor's default value</p>",onChange:function(e){console.log(e),B(e)}})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(c.Z,{onClick:q,variant:"contained",color:"primary",size:"large",children:"Create Post"})})]})})})},ae=function(){var e=(0,Y.UO)().id,n=((0,d.v9)((function(e){return e.blogSlice})).singlePost,(0,d.I0)()),t=(0,Y.bS)("/dashboard/blog/add"),i=(0,Y.bS)("/blog/:id/edit"),a=(0,Y.TH)(),r=(0,l.useState)(!1),x=(0,s.Z)(r,2),f=x[0],g=x[1],j=(0,l.useState)(!1),Z=(0,s.Z)(j,2),b=Z[0],m=Z[1],v=(0,l.useState)(!1),w=(0,s.Z)(v,2),P=w[0],S=w[1],k=(0,l.useState)(!1),y=(0,s.Z)(k,2),C=y[0],_=y[1];return(0,l.useEffect)((function(){n((0,$.u3)()),m(!0),g(!1),S(!1),_(!1)}),[]),(0,l.useEffect)((function(){void 0!==e?(n((0,$.Pr)(e)),g(!0),S(!1),m(!1),_(!1)):(m(!0),g(!1),S(!1),_(!1)),t&&(S(!0),g(!1),m(!1),_(!1)),a.pathname===(null===i||void 0===i?void 0:i.pathname)&&(S(!1),g(!1),m(!1),_(!0))}),[e,t,i]),(0,I.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,I.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:2},children:(0,I.jsx)(c.Z,{component:p.rU,to:"/dashboard/blog/add",variant:"contained",color:"primary",children:"Add New Article"})}),(0,I.jsx)(o.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}}),(0,I.jsxs)(o.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,I.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,I.jsxs)(o.ZP,{item:!0,children:[b&&(0,I.jsx)(u.Z,{variant:"h5",children:"Recent Blog Posts"}),f&&(0,I.jsx)(u.Z,{variant:"h5"}),P&&(0,I.jsx)(u.Z,{variant:"h5",children:"Create New Post"})]}),(0,I.jsx)(o.ZP,{item:!0})]}),(0,I.jsxs)(h.Z,{sx:{mt:2},content:!1,children:[b&&(0,I.jsx)(q,{}),f&&(0,I.jsx)(G,{id:e}),P&&(0,I.jsx)(ie,{}),C&&(0,I.jsx)(ie,{})]})]})]})}},97699:function(e,n,t){var i={"./ckb.js":82871,"./da.js":59651,"./de.js":64639,"./en.js":75213,"./es.js":47068,"./fr.js":78488,"./he.js":93179,"./index.js":87488,"./it.js":63577,"./ja.js":10916,"./ko.js":19920,"./lv.js":39985,"./nl.js":14076,"./pl.js":71676,"./pt_br.js":3204,"./ro.js":59575,"./ru.js":70123,"./se.js":52372,"./ua.js":82561,"./zh_cn.js":79602};function a(e){var n=r(e);return t(n)}function r(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=97699}}]);
//# sourceMappingURL=485.19cbb920.chunk.js.map